Version 4
SHEET 1 1208 680
WIRE 704 -384 640 -384
WIRE 816 -384 784 -384
WIRE 80 -336 80 -368
WIRE -160 -320 -160 -336
WIRE 816 -320 816 -384
WIRE -192 -304 -224 -304
WIRE -32 -288 -128 -288
WIRE 16 -288 -32 -288
WIRE -272 -272 -304 -272
WIRE -192 -272 -272 -272
WIRE 736 -272 736 -288
WIRE 640 -256 640 -384
WIRE 704 -256 640 -256
WIRE -160 -240 -160 -256
WIRE 816 -240 816 -320
WIRE 816 -240 768 -240
WIRE 832 -240 816 -240
WIRE 48 -224 -64 -224
WIRE 80 -224 80 -240
WIRE 80 -224 48 -224
WIRE 144 -224 80 -224
WIRE 256 -224 144 -224
WIRE 320 -224 256 -224
WIRE 704 -224 320 -224
WIRE 640 -208 640 -256
WIRE 736 -192 736 -208
WIRE -64 -144 -64 -224
WIRE 320 -144 320 -224
WIRE 48 -128 48 -224
WIRE 144 -128 144 -224
WIRE -416 -96 -416 -112
WIRE -304 -48 -304 -272
WIRE -416 0 -416 -16
WIRE -416 0 -464 0
WIRE -464 16 -464 0
WIRE -416 16 -416 0
WIRE -224 16 -224 -304
WIRE -160 16 -224 16
WIRE -64 16 -64 -64
WIRE -64 16 -160 16
WIRE 48 16 48 -64
WIRE 48 16 -64 16
WIRE 80 16 48 16
WIRE 144 16 144 -64
WIRE 144 16 80 16
WIRE 320 16 320 -64
WIRE 320 16 144 16
WIRE 640 16 640 -128
WIRE 640 16 320 16
WIRE 80 32 80 16
WIRE -416 112 -416 96
WIRE -304 128 -304 32
WIRE 80 128 80 112
WIRE 80 128 -304 128
WIRE -304 144 -304 128
FLAG -416 -112 Vdd
FLAG -416 112 Vss
FLAG -160 -336 Vdd
FLAG -160 -240 Vss
FLAG 80 -368 Vdd
FLAG 736 -288 Vdd
FLAG 736 -192 Vss
FLAG -160 16 Feedback
FLAG -32 -288 U1_Out
FLAG 256 -224 U_Sense
FLAG 816 -320 Out
FLAG -304 144 0
FLAG -464 16 0
FLAG -272 -272 Vref
SYMBOL voltage -304 -64 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 1
SYMBOL Opamps\\OP07 -160 -352 R0
SYMATTR InstName U1
SYMBOL voltage -416 -112 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 6
SYMBOL res 64 16 R0
SYMATTR InstName R1
SYMATTR Value 1000
SYMBOL res 304 -160 R0
SYMATTR InstName R2
SYMATTR Value {R2}
SYMBOL Opamps\\OP07 736 -304 R0
SYMATTR InstName U2
SYMBOL pnp 1008 -128 M180
SYMATTR InstName Q1
SYMATTR Value BD140
SYMBOL npn 16 -336 R0
SYMATTR InstName Q2
SYMATTR Value BD139
SYMBOL res 624 -224 R0
SYMATTR InstName R3
SYMATTR Value 1.01k
SYMBOL res 800 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL res -80 -160 R0
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL diode 32 -128 R0
WINDOW 3 -16 65 VLeft 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 128 -64 M180
WINDOW 0 24 64 Left 2
WINDOW 3 -16 -1 VRight 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL voltage -416 0 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 3
TEXT -400 232 Left 2 !.tran 5m
TEXT -400 200 Left 2 !.param R1 500
TEXT -224 64 Left 2 ;R5 --> Input Protection
TEXT -224 88 Left 2 ;R2 --> DUT
TEXT -224 112 Left 2 ;R1 --> I_Set
TEXT 168 56 Left 2 !.param R2 = 1
TEXT 168 88 Left 2 !.step param R2 list 1m 10m 100m
